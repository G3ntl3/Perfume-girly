<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />



     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <title>Shopping Cart</title>
    <style>
      *{
        /* border: 4px solid green; */
      }
      .product-card {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px;
        text-align: center;
      }
      #empty-cart {
        margin-top: 20px;
        display: block;
      }
      .product-section{
        border: 2px solid rgb(193, 207, 4);
        width: 300px;
      }

      * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  padding: 10px;
}

#product-section {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px;
}

.product-card {
  width: 100%;
  max-width: 300px;
  border: 1px solid #ccc;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  background-color: #fff;
  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
}

.product-card img {
  width: 100%;
  height: auto;
  border-radius: 8px;
}

.cartsection {
  text-align: center;
  margin-top: 20px;
}

#cart-list {
  list-style-type: none;
  padding: 0;
}

button {
  cursor: pointer;
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  font-size: 14px;
}

button:hover {
  opacity: 0.8;
}

/* Responsive Design */
@media (min-width: 600px) {
  #product-section {
    justify-content: space-between;
  }

  .product-card {
    width: 45%;
  }
}

@media (min-width: 900px) {
  .product-card {
    width: 30%;
  }
}

    </style>
  </head>
  <body>
    <div id="product-section">

    </div>

    <div class="cartsection">
      <h1>Your cart (<span id="cart-count">0</span>)</h1>
      <ul id="cart-list"></ul>
      <div id="empty-cart">
        <center>Your added items would appear here</center>
      </div>
    </div>

    <script>
      // Sample data
      const data = [
        {
          image: {
            thumbnail: "./img/pef/pef 2.jpg",
          },
          name: "Qaed Al Fursan",
          about:'A long lasting perfume that gets you smelling attractive' ,
          
          price: 19000,
        },
        {
          image: {
            thumbnail: "./img/pef/pef5.jpg",
          },
          name: "Ramz by lataffa",
          about:"Some quick example text to build on the card title and make up the bulk of the card's content.",
          price: 19000 ,
        },
        {
          image: {
            thumbnail: "/img/pef/pef4.jpg",
          },
          name: "Khamrah by Lattafa",
          about:"Warm, spicy and sweet Fragrance(unisex)",
          price: 35000,
        },
        {
          image: {
            thumbnail: "./img/pef/pef3.jpg",
          },
          name: " Cocktail",
          about:" >The aroma is luxurious, attractive, and intoxicating with its flawlessness and depth. ",
          price: 19000,
        },
        {
          image: {
            thumbnail: "./img/pef/24k.jpg",
          },
          name: "24k perfume",
          about:"This luxurious scent is infused with gold flakes that add a touch of glamour and sophistication.",
          price:7000 ,
        },
        {
          image: {
            thumbnail: "./img/pef/dancer.jpg",
          },
          name: "Dancer spray(men and women)",
          about:"Immerse yourself in the heart of this captivating fragrance, where the blend of top notes ignites your senses with a burst of vibrant citrus.",
          price:4000 ,
        },
        {
          image: {
            thumbnail: "./img/pef/riggs.jpg",
          },
          name: "Riggs",
          about:"Made using the best French fragrances with stunning light and refreshing notes, Riggs Body Spray offers 24-hour protection, keeping you on the move all day and night.",
          price:4000 ,
        },
        {
          image: {
            thumbnail: "./img/pef/wave body mist.jpg",
          },
          name: "Wave Body Mist",
          about:"Wave® body mist is a fresh, lightweight scent that entices with a mix of dewy tropical fruit. Enter a swell of passionate flowers. ",
          price: 4550 ,
        },
        // {
        //   image: {
        //     thumbnail: "./img/Netflix_Logo_PMS.png",
        //   },
        //   name: "Vanilla Bean Crème Brûlée",
        //   category: "Crème Brûlée",
        //   price: 7.0,
        // },
        // {
        //   image: {
        //     thumbnail: "./img/NG-en-20250303-TRIFECTA-perspective_907b41f1-8cdd-46de-a84b-b1dd",
        //   },
        //   name: "Macaron Mix of Five",
        //   category: "Macaron",
        //   price: 8.0,
        // },
        // {
        //   image: {
        //     thumbnail: "./img/Netflix_Logo_PMS.png",
        //   },
        //   name: "Classic Tiramisu",
        //   category: "Tiramisu",
        //   price: 5.5,
        // },
      ];

      // Object to track cart items and their quantities
      const cartItems = {};

      // Function to handle adding an item to the cart
      const handleAddToCart = (itemName, itemPrice, controlsContainer) => {
        if (cartItems[itemName]) {
          cartItems[itemName].quantity += 1;
        } else {
          cartItems[itemName] = { quantity: 1, price: itemPrice };
        }

        // Update the controls to display + and - buttons and quantity
        controlsContainer.innerHTML = `
          <button id="minus-btn-${itemName}" style="margin-right: 5px;">-</button>
          <span id="quantity-display-${itemName}">${cartItems[itemName].quantity}</span>
          <button id="plus-btn-${itemName}" style="margin-left: 5px;">+</button>
        `;

        // Add event listeners to the buttons
        document.getElementById(`minus-btn-${itemName}`)
          .addEventListener("click", () => {
            if (cartItems[itemName].quantity > 1) {
              cartItems[itemName].quantity -= 1;
              document.getElementById(
                `quantity-display-${itemName}`
              ).textContent = cartItems[itemName].quantity;
            } else {
              delete cartItems[itemName];
              controlsContainer.innerHTML = ""; // Clear controls
              renderAddButton(controlsContainer, itemName, itemPrice);
            }
            updateCart();
            // console.log(<span id="quantity-display-${itemName}">${cartItems[itemName].quantity}</span>);
            
          });

        document
          .getElementById(`plus-btn-${itemName}`)
          .addEventListener("click", () => {
            cartItems[itemName].quantity += 1;
            document.getElementById(
              `quantity-display-${itemName}`
            ).textContent = cartItems[itemName].quantity;
            updateCart();
          });

        updateCart();
      };

      // Helper function to render the "Add to Cart" button
      const renderAddButton = (controlsContainer, itemName, itemPrice) => {
        const addButton = document.createElement("button");
        addButton.textContent = "Add to Cart";
addButton.style.backgroundColor = 'red';
        addButton.onclick = () =>
          handleAddToCart(itemName, itemPrice, controlsContainer);
        controlsContainer.innerHTML = ""; // Clear previous controls
        controlsContainer.appendChild(addButton);
      };

      // Function to update the cart display
      const updateCart = () => {
        const cartList = document.getElementById("cart-list");
        const cartCount = document.getElementById("cart-count");

        cartList.innerHTML = "";

        const items = Object.keys(cartItems);
        cartCount.textContent = items.length;

        if (items.length === 0) {
          document.getElementById("empty-cart").style.display = "block";
          return;
        }

        document.getElementById("empty-cart").style.display = "none";

        items.forEach((itemName) => {
          const item = cartItems[itemName];
          const itemTotal = (item.quantity * item.price).toFixed(2);
          const listItem = document.createElement("li");
          listItem.textContent = `${itemName}: ${item.quantity} unit(s) - $${itemTotal}`;
          cartList.appendChild(listItem);
        });
      };

      // Function to render products dynamically
      const renderProducts = () => {
        const productSection = document.getElementById("product-section");

        data.forEach((product) => {
          const productCard = document.createElement("div");
          productCard.classList.add("product-card");

          productCard.innerHTML = `

            <div class=" " style="width: 300px; border: 2px solid red;">
  <img src="${product.image.thumbnail}" style='width:100%' class="" alt="Body mist">
  <div class="card-body">
    <h5 class="card-title">${product.name}</h5>
    <p class="card-text">${product.about} </p>
  </div>
  <ul class="list-group list-group-flush">
    <b class="list-group-item">Price</b>
    <li class="list-group-item">${product.price.toFixed(2)}</li>
  </ul>
          `;

          const controlsContainer = document.createElement("div");

          renderAddButton(controlsContainer, product.name, product.price);

          productCard.appendChild(controlsContainer);
          productSection.appendChild(productCard);
        });
      };

      // Render products on page load
      renderProducts();
    </script>
  </body>
</html>

